<p-dialog header="Edit Role" [(visible)]=_display [resizable]="false" [width]="600" modal="true" [responsive]="true">
  <form #f="ngForm" [formGroup]="editForm" (ngSubmit)="onSubmit(f)" novalidate>

    <div class="form-group">
      <label for="roleName1">Name</label>
      <input formControlName="roleName" class="form-control" name="roleName1" id="roleName1" [(ngModel)]="item.roleName">
    </div>
    <div class="form-group">
      <label>Attributes</label>
      <ng-container *ngTemplateOutlet="attributesTemplate;context:ctx"></ng-container>
      <!--<p-accordion>
        <p-accordionTab>
          <p-header style="font-weight:bold">
            Attributes
          </p-header>
          <ng-container *ngTemplateOutlet="attributesTemplate;context:ctx"></ng-container>
        </p-accordionTab>
      </p-accordion>-->
    </div>
    <div class="form-group">
      <button class="btn btn-secondary" (click)="f.ngSubmit.emit()">Submit</button>
    </div>

  </form>
  <ng-template #attributesTemplate>
    <p-table #dt [value]="attributes" filterMatchMode="contains" sortMode="multiple" [globalFilterFields]="['name']" [scrollable]="true" scrollHeight="200px">
      <ng-template pTemplate="caption">
        <div style="text-align: right">
          <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
          <input type="text" pInputText size="50" placeholder="Global Filter" (input)="dt.filterGlobal($event.target.value, 'contains')" >
        </div>
      </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th style="width:10%"></th>
          <th style="width:40%" [pSortableColumn]="'name'">
            Id
            <p-sortIcon [field]="'name'"></p-sortIcon>
          </th>
          <th>
            Expires On
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-attribute>
        <tr>
          <td style="width:10%">
            <div style="text-align:center">
              <p-checkbox [(ngModel)]="attribute.isActive" binary="true"></p-checkbox>
            </div>
          </td>
          <td style="width:40%">{{attribute.name}}</td>
          <td pEditableColumn>
            <p-cellEditor>
              <ng-template pTemplate="input">
                <div>
                  <p-inputMask autoClear="true" mask="99-99-9999" [(ngModel)]="attribute.expiredDate"></p-inputMask>
                  <!--<p-calendar showButtonBar="true" [(ngModel)]="attribute.expiredDate"></p-calendar>-->
                </div>
              </ng-template>
              <ng-template pTemplate="output">
                {{attribute.expiredDate}}
              </ng-template>
            </p-cellEditor>
          </td>
        </tr>
      </ng-template> 
    </p-table>
  </ng-template>
</p-dialog>
